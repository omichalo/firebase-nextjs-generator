# 🚀 {{project.name}}

{{project.description}}

## 📋 Table des matières

- [🚀 Démarrage rapide](#-démarrage-rapide)
- [🏗️ Architecture](#️-architecture)
- [⚙️ Configuration](#️-configuration)
- [🔧 Développement](#-développement)
- [🚀 Déploiement Firebase App Hosting](#-déploiement-firebase-app-hosting)
- [📱 Fonctionnalités](#-fonctionnalités)
- [📚 Documentation](#-documentation)

## 🚀 Démarrage rapide

### **Option 1: Initialisation automatique (Recommandé) 🎯**

```bash
# Depuis la racine du projet généré
cd {{outputDir}}

# Sur Linux/Mac
chmod +x scripts/init-project.sh
./scripts/init-project.sh dev

# Sur Windows
scripts\init-project.bat dev
```

Le script d'initialisation automatique va :
1. ✅ Installer les dépendances frontend
2. ✅ Vérifier la connexion Firebase
3. ✅ Configurer l'environnement Firebase
4. ✅ Lancer l'application en mode développement

### **Option 2: Initialisation manuelle 🔧**

```bash
# 1. Installer les dépendances frontend
cd {{outputDir}}/frontend
npm install

# 2. Configurer Firebase
cd ../backend
firebase login
firebase use dev  # ou staging, prod

# 3. Lancer l'application
cd ../frontend
npm run dev
```

## 🏗️ Architecture

### **Architecture Firebase App Hosting avec API Routes**

Ce projet utilise une architecture **frontend/backend** séparée avec **Firebase App Hosting** pour supporter les API routes Next.js :

```
{{project.name}}/
├── frontend/                 # Application Next.js {{nextjs.version}} avec API routes
│   ├── src/
│   │   ├── app/             # App Router (Next.js {{nextjs.version}})
│   │   │   ├── api/         # API routes Next.js (/api/*)
│   │   │   ├── components/  # Composants réutilisables
│   │   │   ├── hooks/       # Hooks personnalisés
│   │   │   ├── stores/      # Gestion d'état ({{nextjs.stateManagement}})
│   │   │   ├── lib/         # Utilitaires et config
│   │   │   ├── types/       # Types TypeScript
│   │   │   └── utils/       # Fonctions utilitaires
│   │   └── styles/          # Styles et thèmes
│   ├── public/              # Assets statiques
│   └── tests/               # Tests unitaires et e2e
├── backend/                  # Configuration Firebase App Hosting
│   ├── firebase.json              # Configuration Firebase (sans hosting)
│   ├── firebase-app-hosting.json # Configuration App Hosting avec API routes
│   ├── functions/            # Cloud Functions Node.js 20
│   ├── firestore/            # Règles et index
│   ├── storage/              # Règles de stockage
│   ├── extensions/           # Extensions Firebase
│   └── scripts/              # Scripts de déploiement
├── scripts/                  # Scripts d'initialisation
│   ├── init-project.sh      # Script Linux/Mac
│   └── init-project.bat     # Script Windows
└── docs/                     # Documentation
```

### **Technologies utilisées**

- **Frontend** : Next.js {{nextjs.version}} avec App Router
- **UI Framework** : {{nextjs.ui}}
- **State Management** : {{nextjs.stateManagement}}
- **Backend** : Firebase App Hosting avec API routes
- **Database** : Firestore avec règles de sécurité
- **Functions** : Cloud Functions Node.js 20
- **Authentication** : Firebase Auth avec triggers
- **Storage** : Firebase Storage avec règles de sécurité

## ⚙️ Configuration

### **Environnements Firebase**

Le projet supporte plusieurs environnements :

{{#each firebase.environments}}
- **{{name}}** : {{projectId}} ({{region}})
{{/each}}

```bash
# Basculer entre les environnements
cd backend
firebase use dev      # Environnement de développement
firebase use staging  # Environnement de staging
firebase use prod     # Environnement de production
```

### **Variables d'environnement**

```bash
# .env.local
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
{{#if nextjs.features.analytics}}
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=your_measurement_id
{{/if}}
{{#if nextjs.features.sentry}}
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn
{{/if}}
```

## 🔧 Développement

### **Commandes disponibles**

```bash
# Frontend
cd frontend
npm run dev          # Développement local
npm run build        # Build de production
npm run start        # Démarrer en production
npm run lint         # Linting
npm run test         # Tests unitaires
npm run type-check   # Vérification TypeScript

# Backend
cd backend
firebase emulators:start  # Démarrer les émulateurs
firebase deploy           # Déployer sur Firebase
```

### **Émulateurs Firebase**

```bash
cd backend
firebase emulators:start

# Les émulateurs seront disponibles sur :
# - UI: http://localhost:4000
# - Auth: http://localhost:9099
# - Functions: http://localhost:5001
# - Firestore: http://localhost:8080
# - Storage: http://localhost:9199
```

## 🚀 Déploiement Firebase App Hosting

### **Configuration Firebase App Hosting**

Le projet utilise **Firebase App Hosting** pour supporter les API routes Next.js :

```json
// firebase-app-hosting.json
{
  "hosting": {
    "public": "frontend/.next",
    "rewrites": [
      {
        "source": "/api/**",
        "function": "nextjs-api"
      }
    ]
  }
}
```

### **Déploiement manuel**

```bash
# 1. Build du frontend Next.js
cd frontend
npm run build

# 2. Déploiement Firebase complet
cd ../backend
firebase deploy
```

### **Déploiement sélectif**

```bash
# Déploiement App Hosting uniquement
firebase deploy --only hosting

# Déploiement Cloud Functions uniquement
firebase deploy --only functions

# Déploiement Firestore uniquement
firebase deploy --only firestore

# Déploiement Storage uniquement
firebase deploy --only storage
```

### **Déploiement automatique**

```bash
# Utiliser les scripts de déploiement
cd backend/scripts
./deploy-{{environment}}.sh
```

## 📱 Fonctionnalités

{{#if nextjs.features.pwa}}
- ✅ **PWA** - Progressive Web App avec Service Worker
{{/if}}
{{#if nextjs.features.fcm}}
- ✅ **FCM** - Firebase Cloud Messaging pour notifications push
{{/if}}
{{#if nextjs.features.analytics}}
- ✅ **Analytics** - Firebase Analytics pour le suivi des utilisateurs
{{/if}}
{{#if nextjs.features.performance}}
- ✅ **Performance** - Firebase Performance Monitoring
{{/if}}
{{#if nextjs.features.sentry}}
- ✅ **Sentry** - Monitoring des erreurs et performance
{{/if}}

### **Avantages Firebase App Hosting**

- ✅ **API routes Next.js** : Complètement supportées
- ✅ **SSR/SSG** : Possible via Cloud Functions
- ✅ **Middleware** : Supporté
- ✅ **Dynamic routes** : Fonctionnels
- ✅ **Écosystème Firebase** : 100% intégré

## 📚 Documentation

- [Guide d'installation](docs/INSTALLATION.md)
- [Guide d'utilisation](docs/USAGE.md)
- [Guide de déploiement](docs/DEPLOYMENT.md)
- [Guide de personnalisation](docs/CUSTOMIZATION.md)
- [Bonnes pratiques](docs/BEST_PRACTICES.md)
- [Guide de maintenance](docs/MAINTENANCE.md)
- [Guide de contribution](docs/CONTRIBUTING.md)
- [Exemples de projets](docs/EXAMPLES.md)

## 🆘 Support

### **Problèmes courants**

1. **Firebase CLI non installé**
   ```bash
   npm install -g firebase-tools
   ```

2. **Erreur de connexion Firebase**
   ```bash
   firebase login --reauth
   ```

3. **Dépendances manquantes**
   ```bash
   cd frontend
   rm -rf node_modules package-lock.json
   npm install
   ```

4. **Validation Firebase**
   ```bash
   cd backend
   firebase deploy --dry-run
   ```

### **Obtenir de l'aide**

- 📖 [Documentation complète](docs/)
- 🐛 [Signaler un bug](https://github.com/your-username/firebase-nextjs-generator/issues)
- 💡 [Proposer une fonctionnalité](https://github.com/your-username/firebase-nextjs-generator/issues)
- 🤝 [Contribuer](docs/CONTRIBUTING.md)

## 📄 License

Ce projet est sous licence MIT. Voir le fichier [LICENSE](LICENSE) pour plus de détails.

---

**⭐ Si ce projet vous aide, n'oubliez pas de le star sur GitHub !**

**🚀 Généré avec ❤️ par Firebase Next.js Generator avec App Hosting**

**📱 Support complet des API routes Next.js sur Firebase App Hosting** 