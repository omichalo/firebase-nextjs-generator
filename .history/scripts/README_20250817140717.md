# Scripts de Test du Générateur Firebase + Next.js 2025

Ce dossier contient tous les scripts de test automatisés pour le générateur.

## 🎯 Script Principal de Test

### `test-complete.sh` (Linux/macOS)

**Script de test complet et unique qui remplace tous les autres.**

Ce script teste **TOUTES** les fonctionnalités du générateur en une seule exécution :

#### Fonctionnalités testées :

- ✅ **Tests d'environnement** : Node.js, npm, Git, dépendances
- ✅ **Tests de build** : Compilation TypeScript, dossier dist
- ✅ **Tests de la CLI** : Help, version, commandes
- ✅ **Tests de génération** : Projets avec différentes configurations
  - MUI + Zustand + PWA
  - Shadcn + Redux + toutes les fonctionnalités
  - Yarn + Next.js 14
- ✅ **Tests de validation** : Structure, fichiers, variables Handlebars
- ✅ **Tests de fonctionnalités** : Tailwind, PWA, Firebase, TypeScript
- ✅ **Tests de robustesse** : Gestion des erreurs

#### Usage :

```bash
# Rendre exécutable (première fois)
chmod +x scripts/test-complete.sh

# Exécuter tous les tests
./scripts/test-complete.sh
```

#### Résultat attendu :

- **Tous les tests passent** ✅
- **Générateur 100% fonctionnel** 🚀
- **Prêt pour la production** 🎯

### `test-comprehensive.sh` (Linux/macOS) - **Test TRÈS Complet**

**Script de test ultra-complet qui teste TOUTES les fonctionnalités avancées.**

Ce script va **beaucoup plus loin** que le test standard :

#### Fonctionnalités testées (en plus du standard) :

- ✅ **Tous les tests du script standard**
- ✅ **Composants UI détaillés** : MUI, Shadcn, boutons, cartes
- ✅ **Stores et état** : Zustand, Redux, slices
- ✅ **Hooks personnalisés** : use-auth, use-modal, etc.
- ✅ **Fonctions Firebase** : index.ts, admin.ts, triggers
- ✅ **Règles Firestore** : security rules, indexes
- ✅ **Configuration d'environnement** : Firebase config, .firebaserc
- ✅ **Validation des templates** : Traitement Handlebars complet
- ✅ **Cohérence des noms** : Vérification cross-files

#### Usage :

```bash
# Rendre exécutable (première fois)
chmod +x scripts/test-comprehensive.sh

# Exécuter tous les tests ultra-complets
./scripts/test-comprehensive.sh
```

#### Résultat attendu :

- **Tous les tests passent** ✅
- **Générateur 100% fonctionnel** 🚀
- **Prêt pour la production** 🎯
- **Confiance maximale** dans toutes les fonctionnalités

## 🪟 Scripts Windows (PowerShell)

### `test-complete.ps1`

**Script de test complet pour Windows, équivalent à `test-complete.sh`**

Ce script PowerShell teste **TOUTES** les fonctionnalités du générateur sur Windows :

#### Usage :

```powershell
# Exécuter tous les tests
.\scripts\test-complete.ps1

# Mode verbose pour plus de détails
.\scripts\test-complete.ps1 -Verbose
```

#### Fonctionnalités testées :

- ✅ **Tests d'environnement** : Node.js, npm, Git, dépendances
- ✅ **Tests de build** : Compilation TypeScript, dossier dist
- ✅ **Tests de la CLI** : Help, version, commandes
- ✅ **Tests de génération** : Projets avec différentes configurations
- ✅ **Tests de validation** : Structure, fichiers, variables Handlebars
- ✅ **Tests de fonctionnalités** : Tailwind, PWA, Firebase, TypeScript
- ✅ **Tests de robustesse** : Gestion des erreurs

#### Résultat attendu :

- **Tous les tests passent** ✅
- **Générateur 100% fonctionnel** 🚀
- **Prêt pour la production** 🎯

## 📋 Configuration des Tests

### `test-config.json`

Fichier de configuration centralisé pour tous les tests :

- Versions requises des logiciels
- Paramètres de test
- Seuils de performance
- Options de nettoyage

## 🧹 Nettoyage Automatique

Tous les scripts de test nettoient automatiquement les projets générés après les tests pour éviter l'encombrement du disque.

## 🚀 Intégration CI/CD

Ces scripts sont conçus pour s'intégrer facilement dans des pipelines CI/CD :

- Sortie standardisée
- Codes de retour appropriés
- Logs colorés et lisibles
- Gestion des erreurs robuste

## 📊 Interprétation des Résultats

### Succès complet (100%)

```
🎉 Tous les tests ont réussi !
🚀 Le générateur est 100% fonctionnel et prêt pour la production !
```

### Échecs partiels

```
❌ X tests ont échoué.
🔧 Des ajustements peuvent être nécessaires.
```

## 🔧 Débogage

En cas d'échec de tests :

1. Vérifier les versions de Node.js et npm
2. S'assurer que toutes les dépendances sont installées
3. Vérifier que le projet est correctement construit
4. Consulter les logs d'erreur pour identifier le problème

## 📝 Notes de Développement

- **Deux scripts principaux** : `test-complete.sh` (Linux/macOS) et `test-complete.ps1` (Windows)
- **Tests complets** : Couvrent toutes les fonctionnalités du générateur
- **Nettoyage automatique** : Évitent l'accumulation de projets de test
- **Sortie standardisée** : Facilitent l'intégration CI/CD
- **Gestion d'erreurs robuste** : Tests continuent même en cas d'échec partiel
- **Cross-platform** : Support complet Linux/macOS et Windows

---

**💡 Conseil** : Utilisez `test-complete.sh` (Linux/macOS) ou `test-complete.ps1` (Windows) pour tous vos tests. Ce sont les seuls scripts dont vous avez besoin !
