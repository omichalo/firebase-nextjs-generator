// Configuration Firebase Cloud Messaging (FCM)
export const FCM_CONFIG = {
  // Clés VAPID pour les notifications push
  vapidKey: process.env.NEXT_PUBLIC_VAPID_KEY || '',
  publicKey: process.env.NEXT_PUBLIC_FCM_PUBLIC_KEY || '',
  
  // Configuration des notifications
  defaultNotificationOptions: {
    icon: '/icon-192x192.png',
    badge: '/icon-192x192.png',
    vibrate: [200, 100, 200],
    requireInteraction: false,
    silent: false,
  },
  
  // Types de notifications supportés
  supportedNotificationTypes: [
    'default',
    'data',
    'background'
  ],
  
  // Configuration du cache
  cacheOptions: {
    maxAge: 24 * 60 * 60 * 1000, // 24 heures
    maxEntries: 100,
  },
  
  // Permissions requises
  requiredPermissions: [
    'notifications',
    'background-sync'
  ] as PermissionName[],
  
  // Vérification du support
  isSupported: () => {
    if (typeof window === 'undefined') return false;
    return 'serviceWorker' in navigator && 'PushManager' in window;
  },
  
  // Vérification des permissions
  checkPermission: async (): Promise<NotificationPermission> => {
    if (!('Notification' in window)) {
      return 'denied';
    }
    return Notification.permission;
  },
  
  // Demande de permission
  requestPermission: async (): Promise<NotificationPermission> => {
    if (!('Notification' in window)) {
      return 'denied';
    }
    return Notification.requestPermission();
  }
}; 